(self.webpackChunkpz_frontend=self.webpackChunkpz_frontend||[]).push([[7950],{33686:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var n=s(6610),a=s(5991),i=s(65255),r=s(53724),l=s(77608),u=s(99578),o=s(30507);var c=function(t){(0,i.Z)(c,t);var e,s,u=(e=c,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=(0,l.Z)(e);if(s){var a=(0,l.Z)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return(0,r.Z)(this,t)});function c(){return(0,n.Z)(this,c),u.apply(this,arguments)}return(0,a.Z)(c,[{key:"baseURL",value:function(){return o.API_URL}},{key:"request",value:function(t){return this.$http.request(t)}}]),c}(u.H)},41221:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>i});var n=s(23645),a=s.n(n)()((function(t){return t[1]}));a.push([t.id,"\nh1[data-v-0094c5f2] {\n\tfont-size: 2.8em;\n}\n.v-stepper[data-v-0094c5f2], .v-stepper__header[data-v-0094c5f2] {\n\tbox-shadow: initial !important;\n\t-webkit-box-shadow: initial !important;\n}\n@media screen and (min-width: 960px) {\n.v-card > div.fh[data-v-0094c5f2] {\n\t\t-webkit-box-shadow: inset 0px 0px 0px 3px #eeeeee;\n\t\t        box-shadow: inset 0px 0px 0px 3px #eeeeee;\n}\n}\n.success-box img[data-v-0094c5f2] {\n\twidth: 100%;\n\tmax-width: 400px;\n}\n",""]);const i=a},90501:(t,e,s)=>{t.exports=s.p+"trophy.png?f3ea23a1027130b01d06fbba92fbafbb"},54726:(t,e,s)=>{"use strict";s.d(e,{Z:()=>a});const n={name:"UiInputTextValidation",props:{rules:{type:String,default:""},value:{type:null},disabled:{type:Boolean,default:!1},type:{type:String,default:"text",validator:function(t){return-1!==["url","text","password","email","search"].indexOf(t)}}},data:function(){return{inputValue:""}},computed:{lowerCaseLabel:function(){return this.$attrs.label?this.$attrs.label.toLowerCase().trim():""},vPName:function(){return this.$attrs.vPName?this.$attrs.vPName:this.lowerCaseLabel}},watch:{inputValue:function(t){this.$emit("input",t)},value:function(t){this.inputValue=t}},created:function(){this.value&&(this.inputValue=this.value)}},a=(0,s(51900).Z)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ValidationProvider",{attrs:{name:t.vPName,rules:t.rules},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[s("v-text-field",{attrs:{label:t.$attrs.label,"error-messages":n,disabled:t.disabled,type:t.type},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}})]}}])})}),[],!1,null,null,null).exports},48649:(t,e,s)=>{"use strict";s.d(e,{Z:()=>a});const n={name:"UiSelectValidation",props:{rules:{type:String,default:""},items:{type:Array,default:""},value:{type:null},disabled:{type:Boolean,default:!1}},data:function(){return{selectValue:0}},computed:{lowerCaseLabel:function(){return this.$attrs.label?this.$attrs.label.toLowerCase().trim():""}},watch:{selectValue:function(t){this.$emit("input",t)},value:function(t){if("number"==typeof t){var e=this.getItem(t);if(e)return void(this.selectValue={id:e.id,name:e.name})}this.selectValue=t}},methods:{getItem:function(t){return this.items.find((function(e){return e.id===t}))}},created:function(){if("number"==typeof this.value){var t=this.getItem(this.value);if(t)return void(this.selectValue={id:t.id,name:t.name})}else this.value&&(this.selectValue=this.value)}},a=(0,s(51900).Z)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ValidationProvider",{attrs:{name:t.lowerCaseLabel},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[s("v-select",{attrs:{hint:""+t.selectValue.name,items:t.items,"item-text":"name","item-value":"id",label:t.$attrs.label,"error-messages":n,disabled:t.disabled,"persistent-hint":"","return-object":""},model:{value:t.selectValue,callback:function(e){t.selectValue=e},expression:"selectValue"}})]}}])})}),[],!1,null,null,null).exports},17950:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>w});var n=s(92137),a=s(87757),i=s.n(a),r=s(54726),l=s(48649),u=s(6610),o=s(5991),c=s(65255),p=s(53724),d=s(77608);var f=function(t){(0,c.Z)(a,t);var e,s,n=(e=a,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=(0,d.Z)(e);if(s){var a=(0,d.Z)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return(0,p.Z)(this,t)});function a(){return(0,u.Z)(this,a),n.apply(this,arguments)}return(0,o.Z)(a,[{key:"resource",value:function(){return"institution"}}]),a}(s(33686).Z);const m={ititle:"auth.register.title",components:{UiInputTextValidation:r.Z,UiSelectValidation:l.Z},data:function(){return{step:1,user:{email:"",password:"",firstname:"",surname:"",sex:{id:0,name:"Kobieta"}},institution:{name:"",city:"",address:"",contact_number:""}}},methods:{tryRegister:function(){var t={};t=this._.clone(this.institution),this._.each(this.user,(function(e,s){t["admin_"+s]="string"==typeof e?e:e.id})),this.saveData(t)},saveData:function(t){var e=arguments,s=this;return(0,n.Z)(i().mark((function n(){var a,r,l;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.length>1&&void 0!==e[1]&&e[1],a=s,n.prev=2,r=new f(t),n.next=6,r.save();case 6:if("Institution with given name already exists"!=(l=n.sent).msg){n.next=12;break}return a.$toast.error(a.$t("institution.add.nameExistsError"),a.$t("notifications.error")),n.abrupt("return");case 12:if("User with given email address already exists and institution will not be created"!=l.msg){n.next=15;break}return a.$toast.error(a.$t("institution.add.emailExistsError"),a.$t("notifications.error")),n.abrupt("return");case 15:a.step+=1,n.next=21;break;case 18:n.prev=18,n.t0=n.catch(2),a.$toast.error(a.$t("institution.add.error"),a.$t("notifications.error"));case 21:case"end":return n.stop()}}),n,null,[[2,18]])})))()},nextStep:function(){this.step<2?this.step+=1:2==this.step&&this.tryRegister()}}};var v,h=s(93379),b=s.n(h),x=s(50272),_=s.n(x),y=0,$={injectType:"lazyStyleTag",insert:"head",singleton:!1},g={};g.locals=_().locals||{},g.use=function(){return y++||(v=b()(_(),$)),g},g.unuse=function(){y>0&&!--y&&(v(),v=null)};const w=(0,s(51900).Z)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"fh",attrs:{"fill-height":"",fluid:""}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{attrs:{cols:"12",md:"10"}},[3!=t.step?n("h1",{staticClass:"mb-10 text-uppercase",attrs:{align:"center",justify:"center"}},[t._v("\n\t\t\t\t"+t._s(t.$t("auth.register.title"))+"\n\t\t\t")]):t._e(),t._v(" "),n("v-stepper",{attrs:{"content-class":"elevation-0","alt-labels":""},model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[3!=t.step?n("v-stepper-header",[n("v-stepper-step",{attrs:{complete:t.step>1,step:"1"}},[t._v(t._s(t.$t("institution.add.basicInfo")))]),t._v(" "),n("v-divider"),t._v(" "),n("v-stepper-step",{attrs:{complete:t.step>2,step:"2"}},[t._v(t._s(t.$t("institution.add.facilityDetails")))]),t._v(" "),n("v-divider"),t._v(" "),n("v-stepper-step",{attrs:{step:"3"}},[t._v(t._s(t.$t("general.summary")))])],1):t._e(),t._v(" "),n("v-stepper-items",[n("v-stepper-content",{attrs:{step:"1"}},[n("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.handleSubmit,a=e.reset;return[n("form",{on:{submit:function(e){return e.preventDefault(),s(t.nextStep)},reset:function(t){return t.preventDefault(),a(t)}}},[n("v-card",{staticClass:"mb-5 elevation-0"},[n("v-container",[n("v-row",[n("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"12"}},[n("UiInputTextValidation",{attrs:{rules:"required|email|min:3|max:128",label:t.$t("forms.fields.user.email")},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),t._v(" "),n("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"12"}},[n("UiInputTextValidation",{attrs:{rules:"required|min:3|max:40",label:t.$t("forms.fields.user.password")},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),t._v(" "),n("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"12"}},[n("UiInputTextValidation",{attrs:{rules:"required|min:3|max:128",label:t.$t("forms.fields.user.firstname")},model:{value:t.user.firstname,callback:function(e){t.$set(t.user,"firstname",e)},expression:"user.firstname"}})],1),t._v(" "),n("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"12"}},[n("UiInputTextValidation",{attrs:{rules:"required|min:3|max:128",label:t.$t("forms.fields.user.surname")},model:{value:t.user.surname,callback:function(e){t.$set(t.user,"surname",e)},expression:"user.surname"}})],1),t._v(" "),n("v-col",{staticClass:"pa-0 ma-0 mb-16",attrs:{cols:"12"}},[n("UiSelectValidation",{attrs:{rules:"required",label:t.$t("forms.fields.user.sex"),items:[{name:"Kobieta",id:0},{name:"Mężczyzna",id:1}]},model:{value:t.user.sex,callback:function(e){t.$set(t.user,"sex",e)},expression:"user.sex"}})],1)],1)],1)],1),t._v(" "),n("v-btn",{staticClass:"float-right",attrs:{color:"primary",type:"submit"}},[t._v(t._s(t.$t("buttons.actions.next")))]),t._v(" "),n("v-btn",{attrs:{to:"/auth/login",text:""}},[t._v(t._s(t.$t("buttons.actions.cancel")))])],1)]}}])})],1),t._v(" "),n("v-stepper-content",{attrs:{step:"2"}},[n("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.handleSubmit,a=e.reset;return[n("form",{on:{submit:function(e){return e.preventDefault(),s(t.nextStep)},reset:function(t){return t.preventDefault(),a(t)}}},[n("v-card",{staticClass:"mb-5 elevation-0"},[n("v-container",[n("v-row",[n("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"12"}},[n("UiInputTextValidation",{attrs:{rules:"required|min:3|max:45",label:t.$t("forms.fields.institution.name")},model:{value:t.institution.name,callback:function(e){t.$set(t.institution,"name",e)},expression:"institution.name"}})],1),t._v(" "),n("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"12"}},[n("UiInputTextValidation",{attrs:{rules:"required|min:3|max:45",label:t.$t("forms.fields.institution.city")},model:{value:t.institution.city,callback:function(e){t.$set(t.institution,"city",e)},expression:"institution.city"}})],1),t._v(" "),n("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"12"}},[n("UiInputTextValidation",{attrs:{rules:"required|min:3|max:128",label:t.$t("forms.fields.institution.address")},model:{value:t.institution.address,callback:function(e){t.$set(t.institution,"address",e)},expression:"institution.address"}})],1),t._v(" "),n("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"12"}},[n("UiInputTextValidation",{attrs:{rules:"required|min:3|max:15|phoneNumber",label:t.$t("forms.fields.institution.contactNumber")},model:{value:t.institution.contact_number,callback:function(e){t.$set(t.institution,"contact_number",e)},expression:"institution.contact_number"}})],1)],1)],1)],1),t._v(" "),n("v-btn",{staticClass:"float-right",attrs:{color:"primary",type:"submit"}},[t._v(t._s(t.$t("buttons.actions.next")))]),t._v(" "),n("v-btn",{attrs:{to:"/auth/login",text:""}},[t._v(t._s(t.$t("buttons.actions.cancel")))])],1)]}}])})],1),t._v(" "),n("v-stepper-content",{attrs:{step:"3"}},[n("div",{staticClass:"success-box",attrs:{align:"center",justify:"center"}},[n("img",{attrs:{src:s(90501),alt:"trophy.png"}}),t._v(" "),n("h3",{staticClass:"mt-6 grey--text text--darken-3"},[t._v(t._s(t.$t("institution.add.success")))]),t._v(" "),n("v-btn",{staticClass:"mt-10",attrs:{"x-large":"",to:"/auth/login",color:"primary",type:"submit"}},[t._v(t._s(t.$t("general.great")))])],1)])],1)],1)],1)],1)],1)}),[],!1,null,"0094c5f2",null).exports},50272:(t,e,s)=>{var n=s(41221);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),(0,s(45346).Z)("8e747480",n,!0,{})}}]);